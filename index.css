@import "tailwindcss";

/* Settings CSS Custom Properties */
:root {
  --ui-scale: 1;
  --hud-opacity: 1;
  --button-scale: 1;
}

html,
body,
#root {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  /* overflow: hidden; Removed to allow scrolling in menus */
  background-color: #000;
  touch-action: none;
}

canvas {
  touch-action: none;
}

/* HUD elements that respond to settings */
.hud-element {
  opacity: var(--hud-opacity);
}

.hud-button {
  transform: scale(var(--button-scale));
}

.ui-scalable {
  transform: scale(var(--ui-scale));
  transform-origin: center center;
}

/* Select dropdown styling */
select {
  background-color: #1e293b !important;
  color: white !important;
}

select option {
  background-color: #1e293b;
  color: white;
  padding: 8px 12px;
}

select option:hover,
select option:checked {
  background-color: #0891b2;
  color: white;
}

/* Fix for select dropdown z-index and visibility */
select:focus {
  z-index: 9999;
}

/* Force 3D world Html labels to have low z-index */
/* React Three Fiber Html elements are rendered in a div adjacent to canvas */
/* This ensures modals always appear on top */
div[style*="z-index: 1"] {
  z-index: 1 !important;
}

/* Limit z-index for all divs that are siblings of canvas (3D Html labels) */
canvas~div {
  z-index: 50 !important;
}

/* Except for .fixed modals which need to be on top */
.fixed[class*="z-[9999]"],
.fixed[class*="z-[10000]"] {
  z-index: 99999 !important;
}

/* Ensure only fixed position modals get high z-index */
.fixed {
  isolation: isolate;
}

/* ===============================================
   MOBILE RESPONSIVE STYLES
   =============================================== */

/* Mobile-first approach for character select */
@media (max-width: 768px) {
  /* Force single column layout on mobile */
  .character-select-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
  }

  /* Make 3D canvas smaller on mobile */
  .character-canvas-mobile {
    height: 200px !important;
    min-height: 200px !important;
    max-height: 200px !important;
  }

  /* Character info panel full width on mobile */
  .character-info-panel {
    width: 100% !important;
    padding: 1rem !important;
  }

  /* Smaller font sizes on mobile */
  .mobile-title {
    font-size: 1.25rem !important;
  }

  .mobile-text {
    font-size: 0.875rem !important;
  }

  .mobile-text-sm {
    font-size: 0.75rem !important;
  }

  /* Full width buttons on mobile */
  .mobile-full-btn {
    width: 100% !important;
  }

  /* Reduce padding on mobile */
  .mobile-p-2 {
    padding: 0.5rem !important;
  }

  /* Class selector - horizontal scroll on mobile */
  .class-selector-mobile {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    gap: 0.5rem !important;
    padding-bottom: 0.5rem !important;
    -webkit-overflow-scrolling: touch;
  }

  .class-selector-mobile > * {
    flex-shrink: 0 !important;
    min-width: 100px !important;
  }

  /* Faction cards - smaller on mobile */
  .faction-card-mobile {
    padding: 1rem !important;
    margin: 0.5rem !important;
  }

  /* Input fields larger touch targets */
  input[type="text"],
  input[type="email"],
  input[type="password"] {
    min-height: 44px !important;
    font-size: 16px !important; /* Prevents iOS zoom */
  }

  /* Buttons larger for touch */
  button {
    min-height: 44px !important;
  }

  /* Hide complex 3D elements on very small screens */
  .hide-on-mobile {
    display: none !important;
  }

  /* Show simple version on mobile */
  .show-on-mobile {
    display: block !important;
  }
}

/* Very small screens (phones in portrait) */
@media (max-width: 480px) {
  .character-canvas-mobile {
    height: 150px !important;
  }

  .mobile-title {
    font-size: 1rem !important;
  }

  /* Stack everything vertically */
  .mobile-stack {
    flex-direction: column !important;
  }
}

/* Disable hover effects on touch devices */
@media (hover: none) and (pointer: coarse) {
  .hover-effect:hover {
    transform: none !important;
  }
}
